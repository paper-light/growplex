---
import Root from "../../../layouts/Root.astro";
import { pb } from "../../../lib/config/pb";
import { ChatSchema } from "../../../models/chat";

import Chat from "../../../chat/Chat.svelte";

const { id } = Astro.params;
const chat = ChatSchema.parse(
  await pb.collection("chats").getOne(id!, { expand: "agent" })
);
const agent = chat.expand!.agent;
---

<Root>
  <Chat chat={chat} agent={agent} client:only />
</Root>

<style>
  html,
  body {
    background-color: transparent;
  }
</style>
