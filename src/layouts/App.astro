---
import { House, ArrowBigLeft } from "@lucide/astro";
import AppGlobalState from "../app/AppGlobal.svelte";

const { pageName } = Astro.props;
---

<AppGlobalState client:only transition:persist name="app" />

<div class="flex h-screen overflow-hidden">
  <aside
    class:list={[
      "border-base-300 min-h-screen flex-col justify-between overflow-hidden border-r px-2 py-4 w-64",
      "hidden lg:flex",
    ]}
  >
    <div>
      <div class="mb-6 flex justify-center overflow-hidden text-xl font-bold">
        <a href="/app">growplex</a>
      </div>

      <nav class="flex flex-col items-center gap-2">
        <a
          class="bg-card border-base-300 flex w-full justify-center rounded border px-2 py-1"
          href="/app"
        >
          <div class="">
            <House />
          </div>
          <p class="ml-2 text-lg">Home</p>
        </a>
      </nav>
    </div>
  </aside>

  <div class="flex flex-1 flex-col">
    <header
      class="border-base-300 hidden justify-between border-b px-3 py-1 lg:flex"
    >
      <div class="flex items-center justify-center gap-1">
        <span class="text-lg font-semibold">{pageName}</span>
      </div>

      lol
      <!-- <UserMenu /> -->
    </header>

    <header
      class="border-base-300 flex justify-between border-b px-3 py-2 lg:hidden"
    >
      <button><ArrowBigLeft /></button>
      <h2>{pageName}</h2>
      <button><ArrowBigLeft /></button>
    </header>

    <main class="mx-auto w-full max-w-screen-xl flex-1 overflow-auto p-2">
      <slot />
    </main>

    <footer class="lg:hidden">
      <div class="dock">
        <button>
          <House />
          <span class="dock-label">Home</span>
        </button>

        <button class="dock-active">
          <House />
          <span class="dock-label">Inbox</span>
        </button>

        <button>
          <House />
          <span class="dock-label">Profile</span>
        </button>
      </div>
    </footer>
  </div>
</div>
